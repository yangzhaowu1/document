# 命令
## 文件与目录
### 目录
#### mkdir
用来创建目录
```shell
#建立目录的同时设置目录的权限
$ mkdir -m 666 test
  
#建立目录的同时设置目录的权限
$ mkdir --mode 666 test

#递归创建目录,并设置权限  
$ mkdir -p -m 666 path   
```

#### cd
切换用户当前工作目录
```shell
# 进入根目录
$ cd /

#进入 '/ home' 目录    
$ cd /home

#返回上一级目录        
$ cd ..

#返回上两级目录         
$ cd ../..

#进入个人的主目录      
$ cd

# 进入用户主目录；            
$ cd ~

#进入个人的主目录 
$ cd ~user1


 #返回上次所在的目录,命令会首先显示要切换到的目标目录，然后再进入。
$ cd -  

#返回上次所在的目录,直接切换到上一个工作目录。
$ cd ${OLDPWD}

# 把上个命令的参数作为cd参数。如在mkdir test之后执行，则等同于cd test
$ cd !$      
```

#### pwd
显示当前工作目录的绝对路径[print working directory]
```shell
#假设/var目录下存在连接文件
#lrwxrwxrwx  1 root root   10 Oct 17  2015 mail -> spool/mail

#--logical 打印环境变量"$PWD"的值，即使为符号链接 -- /var/mail
$ pwd 

#--physical（默认值）打印当前工作目录的物理位置，软连接文件则为指向的文件路径 -- /var/spool/mail
$ pwd -P
```
#### ls
显示目录内容列表，list的缩写
不同颜色代表的文件类型：蓝色(目录)、绿色（可执行文件）、红色（压缩文件或者归档文件）、白色（一般性文件，如文本文件，配置文件等）、浅蓝色（链接文件）、黄色（设备文件，/dev/目录多）、青黄色（管道文件）、红色闪烁（链接文件存在问题）
```shell
#查看目录中的文件，不包括隐藏文件
$ ls

#显示文件和目录的详细资料，等同于:ll
$ ls -l 

# 列出详细信息并以可读大小（K、M）显示文件大小，等同于:ll -h
$ ls -hl

#列出所有文件，包括以 "." 开头的隐含文件
$ ls -a

#输出文件前先输出文件系列号（即 i 节点号: i-node number）
$ ls -i

#--numeric-uid-gid,列出数字化的 UID 和 GID 而不是用户名和组名
$ ls -n

#逆序排列目录内容
$ ls -r

#连同子目录的内容一起列出（递归列出）
$ ls -R

#查看目录中的文件,并显示文件大小
$ ls -s

#按文件大小而不是字典序排序目录内容，大文件靠前
$ ls -S 

#按文件最近修改时间,而不是按文件名字典序排序，新文件 靠前
$ ls -t

#列出完整的时间，而不是使用标准的缩写: 2021-09-22 17:59:32.585245216 +0800
$ ls --full-time

#显示文件夹信息， -d：将目录名像其它文件一样列出，而不是列出它们的内容
$ ls -ld /opt/yzw/
```

#### du
显示每个文件和目录的磁盘使用空间
```shell
# --summarize 仅显示总计，只列出最后加总的值。
$ du -s 

#--kilobytes,以KB(1024bytes)为单位输出。
$ du -k 

#--megabytes,以MB为单位输出。
$ du -m 

#以K，M，G为单位，提高信息的可读性
$ du -h 

#当前路径下的文件按文件大小排序
$ du -sh /opt/yzw/* 
```

#### tree
树状图列出目录的内容
```shell
#显示所有文件和目录。
$ tree -a     

#显示目录名称而非文件。
$ tree -d     

#在每个文件或目录之前，显示完整的相对路径名称。
$ tree -f     

#限制目录显示层级
$ tree -L 2   

#列出当前目录文件夹test的目录结构
$ tree -P test 

#忽略当前目录文件夹test
$ tree -I test 

#忽略多个文件夹
$ tree -I 'node_modules|icon|font' -L 2 

#不以阶梯状列出文件和目录名称。
$ tree -i      

#列出文件和目录大小。
$ tree -s      

#以K，M，G为单位，提高信息的可读性
$ tree -h      
```

#### dirname
去除文件名中的非目录部分,仅显示与目录有关的内容
dirname命令读取指定路径最后一个/及其后面的字符，删除其他部分，并写结果到标准输出。如果最后一个/后无字符，dirname 命令使用倒数第二个/，并忽略其后的所有字符
```shell
# /opt
$ dirname /opt/yzw/           

#/opt/yzw
$ dirname /opt/yzw/hytc-agent 
```

### 文件操作
#### touch
创建空文件或者改变文件的时间戳属性
```shell
#在当前目录下建立一个空文件test,若test文件已存在，则更新文件的时间标签
$ touch test             

#批量创建文件,file1.txt、file2.txt、file3.txt
$ touch file{1..3}.txt   

#只更改指定文件的最后访问时间
$ touch -a               

#创建 job1.md 文件，并写入 job 1 
$ echo "job 1" > job1.md 
```

#### rename
用字符串替换的方式批量改变文件名
```shell
#将file1.txt的文件名中的file替换为work
$ rename 's/file/work/' file1.txt 

#替换当前目录下的文件名中的file替换为work
$ rename 's/file/work/' *         

#详细：成功重命名的文件打印名称。
$ rename -v 's/work/file/' *      

#批量修改文件后缀
$ rename 's/.txt/.html/' *        

#批量添加.txt后缀
$ rename 's/$/.txt/' *           

#批量删除.txt后缀
$ rename 's/.txt//' *             
```

#### basename
打印目录或者文件的基本名称
```shell
#config
$ basename /opt/yzw/config/    

#sdr-server
$ basename /opt/yzw/sdr-server 
```

#### cp
将源文件或目录复制到目标文件或目录中;
复制目录必须加-r参数
目标目录必须已存在
```shell
# -a #将文件的特性一起复制
# -p #连同文件的属性一起复制，而非使用默认方式，与-a相似，常用于备份
# -i #若目标文件已经存在时，在覆盖时会先询问操作的进行

#文件复制
$ cp tmp.log tmp.log1         

#将指定文件复制到当前目录下
$ cp /root/file1.html .       

#递归持续复制，用于目录的复制
$ cp -r /usr/men /usr/zh      

#目标文件与源文件有差异[更改时间、内容]时才会复制
$ cp -u file1.html ./test     

#目标文件存在直接覆盖，无需手动确认
$ \cp -r -a file1.html ./test 

#递归强制复制目录到指定目录中覆盖已存在文件
$ cp -rfb ./* ../backup 
```

#### mv
用来对文件或目录重新命名,或者将文件从一个目录移到另一个目录中
```shell
#将目录/usr/men中的所有文件移到当前目录
$ mv /usr/men/* .                 

#移动多个文件
$ mv *.txt /home/office/            

#打印移动信息
$ mv -v *.txt /home/office         

#源文件比目标文件新时才执行更新
$ mv -uv *.txt /home/office         

#无条件覆盖已经存在的文件
$ mv -f *.txt /home/office         

#复制时创建备份,.txt~
$ mv -fb *.txt /home/office         

#移动多个文件
$ mv file2.txt file3.txt file4.txt /home/office/ 

#移动目录
$ mv directory_1/ /home/office/     

#文件重命名
$ mv file_1.txt file_2.txt        

#重命名目录
$ mv directory_1/ directory_2/    
```
#### rm
用于删除给定的文件和目录
```shell
 #交互式删除文件
$ rm file2.html    

#直接删除该结尾的文件
$ rm -f *.html     

#交互式删除当前目录下除隐含文件外的所有文件和子目录,
$ rm -r test1/      

#直接删除当前目录下除隐含文件外的所有文件和子目录
$ rm -rfg test1/    

#直接删除该结尾的文件，并显示当前删除操作的详情
$ rm -rfv *.html     

#查找 .html 结尾的文件并删除
$ find . -name "*.html" -exec rm -rf {} \ 

#删除当前目录下的test目录
$ find . -name 'test' -type d -prune -exec rm -rf '{}' + 
```

### 文件属性
#### chmod
用来变更文件或目录的权限
```shell
# -R, --recursive #对目录以及目录下的文件递归执行更改权限操作。
# u符号代表当前用户。
# g符号代表和当前用户在同一个组的用户，以下简称组用户。
# o符号代表其他用户。
# a符号代表所有用户。
# r符号代表读权限以及八进制数4。
# w符号代表写权限以及八进制数2。
# x符号代表执行权限以及八进制数1。
# X符号代表如果目标文件是可执行文件或目录，可给其设置可执行权限。
# s符号代表设置权限suid和sgid，使用权限组合u+s设定文件的用户的ID位，g+s设置组用户ID位。
# t符号代表只有目录或文件的所有者才可以删除目录下的文件。
# +符号代表添加目标用户相应的权限。
# -符号代表删除目标用户相应的权限。
# =符号代表添加目标用户相应的权限，删除未提到的权限。

# 添加组用户的写权限。
$ chmod g+w ./test.log

# 删除其他用户的所有权限。
$ chmod o= ./test.log

# 使得所有用户都没有写权限。
$ chmod a-w ./test.log

# 当前用户具有所有权限，组用户有读写权限，其他用户只有读权限。
$ chmod u=rwx, g=rw, o=r ./test.log

# 等价的八进制数表示：
$ chmod 764 ./test.log

# 将目录以及目录下的文件都设置为所有用户拥有读写权限。
# 注意，使用'-R'选项一定要保留当前用户的执行和读取权限，否则会报错！
$ chmod -R a=rw ./testdir/

# 根据其他文件的权限设置文件权限。
$ chmod --reference=./1.log  ./test.log
```
#### chown

#### chgrp

#### stat
显示文件或文件系统状态
```shell
```
#### ln
创建硬链接或者软连接
```shell
#无参数 创建硬链接
$ ln 

#创建软链接（符号链接）
$　ln -s
```
### 文件查找

####  find
在指定目录下查找查找子目录与文件，目录缺省时为当前目录
```shell
# -depth #从指定目录下最深层的子目录开始查找
# -empty #寻找文件大小为0 Byte的文件，或目录下没有任何子目录或文件的空目录
# -name #指定字符串作为寻找文件或目录的范本样式
# -iname #同上，忽略字符大小写的差别
# -maxdepth #设置最大目录层级
# -mindepth #设置最小目录层级
# -path #指定字符串作为寻找目录的范本样式
# -regex # 指定字符串作为寻找文件或目录的范本样式
# -size #查找符合指定的文件大小的文件,b(块，512字节)、c（字节）、w（字，2字节）、k（千字节）、M（兆字节）、G（G字节）
# -true #将find指令的回传值皆设为True
# -type #只寻找符合指定的文件类型的文件
# -mmin #查找在指定时间曾被更改过的文件或目录，单位以分钟计算
# -amin #查找在指定时间曾被存取过的文件或目录，单位以分钟计算
# -cmin #文件数据元（例如权限等）最后一次修改时间,单位以分钟计算
# -atime #查找在指定时间曾被存取过的文件或目录，单位以24小时计算
# -mtime #查找在指定时间曾被更改过的文件或目录，单位以24小时计算
# -ctime #文件数据元（例如权限等）最后一次修改时间，单位以24小时计算
# -newer #查找其更改时间较指定文件或目录的更改时间更接近现在的文件或目录
# -perm #查找符合指定的权限数值的文件或目录
# -user #查找符和指定的拥有者名称的文件或目录
# -group #查找符合指定之群组名称的文件或目录
# -exec #假设find指令的回传值为True，就执行该指令
# -ok #此参数的效果和指定“-exec”类似，但在执行指令之前会先询问用户，若回答“y”或“Y”，则放弃执行命令
# -print #假设find指令的回传值为Ture，就将文件或目录名称列出到标准输出。格式为每列一个名称，每个名称前皆有“./”字符串
# -printf #假设find指令的回传值为Ture，就将文件或目录名称列出到标准输出。格式可以自行指定
# -prune #不寻找字符串作为寻找文件或目录的范本样式

#列出当前目录及子目录下所有文件和文件夹.
$ find 

#同上
$ find . 

#同上
$ find $pwd 

#在'/opt/yzw'目录下递归搜索名字为file1的文件和目录 
$ find /opt/yzw -name file1 

#在'/opt/yzw'目录下递归搜索名字带.zip后缀的文件和目录
$ find /opt/yzw -name '*.zip'

#同上，但忽略大小写
$ find /opt/yzw -iname '*.zip' 

#当前目录及子目录下查找所有以.txt和.html结尾的文件,且不区分大小写;-o表示ore
$ find . -iname '*.html' -o -name '*.txt' 

#匹配文件路径或者文件,并限制目录层级
$ find /usr/ -path "*local*" -maxdepth 2 

#基于正则表达式匹配文件路径
$ find . -regex ".*\(\.txt\|\.pdf\)$" 

#同上，但忽略大小写
$ find . -iregex ".*\(\.txt\|\.pdf\)$" 

#在当前目录下找出不是以.html结尾的文件
$ find . ! -name '*.html' 

#根据文件类型进行搜索,f(普通文件)、l（符号链接）、d（目录）、c（字符设备）、b（块设备）、s（套接字）
$ find . -type d 

#搜索出深度距离当前目录至少2个子目录的所有文件
$ find . -mindepth 2 -type f 

#搜索最近七天内被访问过的所有文件
$ find . -type f -atime -7 

#搜索恰好在七天前被访问过的所有文件
$ find . -type f -atime 7 

#搜索超过七天内被访问过的所有文件
$ find . -type f -atime +7 

#找出比file.log修改时间更长的所有文件
$ find . -type f -newer file.log 

#搜索大于10KB的文件
$ find . -type f -size +10k

#搜索小于10KB的文件
$ find . -type f -size -10k

#搜索等于10KB的文件
$ find . -type f -size 10k 

#删除所有.html文件
$ find . -name '*.html' -delete

#当前目录下搜索出权限为777的文件
$ find . -type f -perm 777 

#找出当前目录下权限不是644的php文件
$ find . -type f -name "*.php" ! -perm 644 

#找出当前目录用户tom拥有的所有文件
$ find . -type f -user tom 

#找出当前目录用户组sunk拥有的所有文件
$ find . -type f -group sunk 

#找出当前目录下所有.txt的文件，并把所有权更改为用户yangzhaowum; {} 用于与 -exec 选项结合使用来匹配所有文件，然后会被替换为相应的文件名
$ find . -name '*.txt' -exec chown yangzhaowu {} \; 

#找出自己家目录下所有的.txt文件并删除; -ok 和 -exec 行为一样，不过它会给出提示，是否执行相应的操作
$ find $HOME/. -name "*.txt" -ok rm {} \; 

#查找当前目录下所有.txt文件并把他们拼接起来写入到all.txt文件中
$ find . -type f -name "*.txt" -exec cat {} \;> /all.txt 

#将30天前的.log文件移动到old目录中
$ find . -type f -mtime +30 -name "*.log" -exec cp {} old \; 

#找出当前目录下所有.txt文件并以“File:文件名”的形式打印出来
$ find . -type f -name "*.txt" -exec printf "File: %s\n" {} \;

#查找文件并打印到标准输出
$ find . -name "*.txt" -print

#查找当前目录或者子目录下所有.txt文件，但是跳过子目录sk
$ find . -path "./sk" -prune -o -name "*.txt" -print

#忽略两个目录
$ find . \( -path ./sk -o  -path ./st \) -prune -o -name "*.txt" -print

#列出所有长度为零的文件
$ find . -empty

#代码行数统计, 排除空行
$ find . -name "*.java"|xargs cat|grep -v ^$|wc -l
```
#### which
显示命令的全路径
```shell
$ which halt #显示一个二进制文件或可执行文件的完整路径
$ which -a #遍历所有的PATH路径,输出所有匹配项
```

#### whereis
显示命名及其相关文件的全路径
```shell
$ whereis halt #显示一个二进制文件、源码或man的位置 
$ whereis -b 查找可执行文件
$ whereis　-m 查找man帮助文件
$ whereis -s 查找源代码文件
```

#### locate
快速定位文件路径
```shell
-c 不显示匹配的内容,只显示匹配到的行数
-i 匹配时忽略大小写
-r 支持基本正则表达式匹配
--regex 支持扩展正则表达式匹配
```
### 文件打包
#### tar
```shell
$ 压缩：tar -jcv -f filename.tar.bz2 要被处理的文件或目录名称 file1.rar test_file 创建一个叫做 'file1.rar' 的包 
$ 查询：tar -jtv -f filename.tar.bz2 file1.rar file1 file2 dir1 #同时压缩 'file1', 'file2' 以及目录 'dir1' 
$ 解压：tar -jxv -f filename.tar.bz2 -C 欲解压缩的目录
```

#### rar
```shell
$ rar a file1.rar test_file 创建一个叫做 'file1.rar' 的包 
$ rar a file1.rar file1 file2 dir1 同时压缩 'file1', 'file2' 以及目录 'dir1' 
$ rar x file1.rar 解压rar包
```

#### zip
```shell
$ zip file1.zip file1 创建一个zip格式的压缩包 
$ unzip file1.zip 解压一个zip格式压缩包 
$ zip -r file1.zip file1 file2 dir1 将几个文件和目录同时压缩成一个zip格式的压缩包
```

#### unzip


#### gzip


### 文件展示
#### cat
```shell
$ cat file1 #从第一个字节开始正向查看文件的内容 
$ cat -n file1 #标示文件的行数 
$ cat filename | head -n 3000 | tail -n +1000  #显示1000行到3000行
$ cat filename | tail -n +3000 | head -n 1000  #从第3000行开始，显示1000(即显示3000~3999行)
```
#### tac
反向显示文件内容
```shell
$ tac file1 #从最后一行开始反向查看一个文件的内容 
```

#### more
分页显示文件内容
```shell
$ more file1 #查看一个长文件的内容 
```

#### less
分页显示文件内容
```shell
$ less file1
```

#### head
从头部开始查看文件内容
```shell
$ head -n 2 file1 #查看一个文件的前两行 
```

#### tail
从尾部开始查看文件内容
```shell
$ tail -n 2 file1 #查看一个文件的最后两行 
$ tail -n +1000 file1  #从1000行开始显示，显示1000行以后的
```
#### grep

#### awk

#### wc
 统计文件的行数、单词数或字节数
```shell
$ wc -c #统计字节数
$ wc -l #统计行数
$ wc -m #统计字符数
$ wc -w #统计单词数
```
#### diff
比较两个文件的不同

#### vimdiff

### 文本处理
#### vi/vim 
纯文本编辑器

#### sed
sed 字符流编辑器
```shell
$ sed -i #直接修改文件内容,而不是输出到终端
```

#### tr
替换或删除字符

#### paste
```shell
$ paste file1 file2 #合并两个文件或两栏的内容 
$ paste -d '+' file1 file2 #合并两个文件或两栏的内容，中间用"+"区分
```
#### sort
```shell
$ sort file1 file2 #排序两个文件的内容 文件，不会出现警告消息
$ sort file1 file2 | uniq #取出两个文件的并集(重复的行只保留一份) 作
$ sort file1 file2 | uniq -u #删除交集，留下其他的行 
$ sort file1 file2 | uniq -d #取出两个文件的交集(只留下同时存在于两个文件中的文件)
```

#### comm
```shell
$ comm -1 file1 file2 #比较两个文件的内容只删除 'file1' 所包含的内容 rce的意思，忽略不存在的文件，不会出现警告消息
$ comm -2 file1 file2 #比较两个文件的内容只删除 'file2' 所包含的内容 ，在删除前会询问用户是否操作
$ comm -3 file1 file2 #比较两个文件的内容只删除两个文件共有的部分
```

#### join
按两个文件相同字段合并

#### unip
去除重复的行

## Linux信息

### uname
显示系统信息
```shell
$ uname -a 显示系统所有相关信息
$ uname -m 显示计算机硬件架构
$ uname -n 显示主机名称
$ uname -r 显示内核发行版本号
$ uname -s 显示内核名称
$ uname -v 显示内核版本
$ uname -p 显示主机处理器类型
$ uname -o 显示操作系统名称
$ uname -i 显示硬件平台
```
### hostname
显示或设置系统的主机名
### demesg
系统启动异常诊断

### date
显示与设置系统时间

### uptime
显示系统的运行时间及负载

### sar 
收集系统信息

### cloc
代码统计工具
```shell
$ cloc thallo
```

### watch
监视命令执行情况

## 用户管理
### useradd 
创建用户

### usermod 
修改用户信息

### userdel 
删除用户

### groupadd 
创建新的用户组

### groupdel 
删除用户组

### passwd 
修改用户密码

### chage 
修改用户密码有效期

### chpasswd 
批量更新用户密码

### su
切换用户

### sudo
以另一个用户身份执行命令

### who
显示已登录用户信息

### whoami 
显示当前登录的用户名

## 磁盘与文件系统
### fdisk 
磁盘分区工具

### mount 
挂载文件系统

### umount
卸载文件系统

### df 
展示文件系统磁盘空间的使用情况

### du
统计磁盘空间使用情况

### iostat 
I/O信息统计

### iotop 
动态显示磁盘I/O统计信息

## 进程管理
### ps 
查看进程

### pstree 
 显示进程状态树
 
### pgrep
查找匹配的进程

### kill
终止进程

### pkill 
通过进程名终止进程

### killall
通过进程名终止进程

### top
实时显示系统中各个进程的资源占用情况

### nice
调整程序运行时的优先级

### renice
调整运行中的进程的优先级

### nohup
用户退出系统进程继续工作

### strace
跟踪进程的系统调用

### ltrace
跟踪进程调用库函数

### lsof
查看进程打开的文件

## 网络管理

### 网卡

#### ifconfig
配置或显示网络接口信息

#### ip
网络配置工具

#### ifup
激活网络接口

#### ifdown
禁用网络接口

#### ethtool
查询网卡参数

### 路由
#### route
显示或管理路由表

### arp
#### arp
管理系统的arp缓存


### 网络状态
#### netstat 
查看网络状态
```shell
$ netstat -tunlp|grep
```

#### ss
查看网络状态

#### nc 
多功能网络工具

#### ssh 
安全地远程登录主机

### 邮件
#### mail 
发送和接收邮件

#### mailq
显示邮件传输队列

### 域名
#### nslookup 
域名查询工具

#### dig
域名查询工具

#### host 
域名查询工具

### 网络监测
#### ping
测试主机之间网络的连通性

#### curl
利用URL规则在命令行下工作的文件传输工具

#### traceroute 
追踪数据传输路由状况

#### arping 
发送arp请求

#### telnet 
远程登录主机

#### nmap 
网络探测工具和安全/端口扫描

### 流量统计

#### tcpdump 
监听网络流量

#### iftop
动态显示网络接口流量信息

### 文件下载
#### wget 
命令行下载工具

## 内存管理
### free
查看系统内存

### vmstat
虚拟内存统计


